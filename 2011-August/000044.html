<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Pink-image-devel] Memory not being free()
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/pink-image-devel/2011-August/index.html" >
   <LINK REL="made" HREF="mailto:pink-image-devel%40lists.berlios.de?Subject=Re%3A%20%5BPink-image-devel%5D%20Memory%20not%20being%20free%28%29&In-Reply-To=%3CCAAAj9po7Nrq%3DcbuBqPDRc8LRy7dTZVCarKet8i-KayDE3oowdg%40mail.gmail.com%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000042.html">
   <LINK REL="Next"  HREF="000045.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Pink-image-devel] Memory not being free()</H1>
    <B>Michael Cheng</B> 
    <A HREF="mailto:pink-image-devel%40lists.berlios.de?Subject=Re%3A%20%5BPink-image-devel%5D%20Memory%20not%20being%20free%28%29&In-Reply-To=%3CCAAAj9po7Nrq%3DcbuBqPDRc8LRy7dTZVCarKet8i-KayDE3oowdg%40mail.gmail.com%3E"
       TITLE="[Pink-image-devel] Memory not being free()">michael.cheng at emphron.com
       </A><BR>
    <I>Thu Aug  4 06:47:25 CEST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="000042.html">[Pink-image-devel] Memory not being free()
</A></li>
        <LI>Next message: <A HREF="000045.html">[Pink-image-devel] Memory not being free()
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#44">[ date ]</a>
              <a href="thread.html#44">[ thread ]</a>
              <a href="subject.html#44">[ subject ]</a>
              <a href="author.html#44">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>On Mon, Aug 1, 2011 at 8:03 AM, Michael Cheng &lt;<A HREF="https://lists.berlios.de/mailman/listinfo/pink-image-devel">michael.cheng at emphron.com</A>&gt;wrote:

&gt;<i> Thanks for the fix. I'll give this a go tody and let you know how it goes.
</I>&gt;<i>
</I>&gt;<i>
</I>Hi Laszlo,

The pink images now seem to be being freed automatically by the python
garbage collection.  Thanks for the fix!

However, quite a number of pink.cpp.* functions seem to have leaks (which
become very evident when run repeatedly in long running processes).

I.e when run in ipython the following functions all seemed to take ram and
never give it back.

pink.cpp.dilation( image, pink.cpp.genball(5))
pink.cpp.erosion( image, pink.cpp.genball(5))
pink.cpp.distc( image, 0 )
pink.cpp.labelfgd
pink.cpp.watershedMeyer2lab

There are probably more, but these are just the ones I checked by hand.

Any thoughts on this?  Is this an unavoidable artefact of using pink/boost
from python?  Or are there mallocs() not being freed() ?

Any help appreciated.
Mike.
-------------- next part --------------
An HTML attachment was scrubbed...
URL: &lt;<A HREF="https://lists.berlios.de/pipermail/pink-image-devel/attachments/20110804/332bf0c2/attachment.html">https://lists.berlios.de/pipermail/pink-image-devel/attachments/20110804/332bf0c2/attachment.html</A>&gt;
</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000042.html">[Pink-image-devel] Memory not being free()
</A></li>
	<LI>Next message: <A HREF="000045.html">[Pink-image-devel] Memory not being free()
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#44">[ date ]</a>
              <a href="thread.html#44">[ thread ]</a>
              <a href="subject.html#44">[ subject ]</a>
              <a href="author.html#44">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/pink-image-devel">More information about the Pink-image-devel
mailing list</a><br>
</body></html>
