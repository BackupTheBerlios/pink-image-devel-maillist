<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN">
<HTML>
 <HEAD>
   <TITLE> [Pink-image-devel] Numpy to pink and back
   </TITLE>
   <LINK REL="Index" HREF="http://lists.berlios.de/pipermail/pink-image-devel/2011-July/index.html" >
   <LINK REL="made" HREF="mailto:pink-image-devel%40lists.berlios.de?Subject=Re%3A%20%5BPink-image-devel%5D%20Numpy%20to%20pink%20and%20back&In-Reply-To=%3C4850F76274F80D4D8F6D043FAD35F8270747BCAE%40ex2.fmi.ch%3E">
   <META NAME="robots" CONTENT="index,nofollow">
   <style type="text/css">
       pre {
           white-space: pre-wrap;       /* css-2.1, curent FF, Opera, Safari */
           }
   </style>
   <META http-equiv="Content-Type" content="text/html; charset=us-ascii">
   <LINK REL="Previous"  HREF="000022.html">
   <LINK REL="Next"  HREF="000024.html">
 </HEAD>
 <BODY BGCOLOR="#ffffff">
   <H1>[Pink-image-devel] Numpy to pink and back</H1>
    <B>Fajardo, Otto</B> 
    <A HREF="mailto:pink-image-devel%40lists.berlios.de?Subject=Re%3A%20%5BPink-image-devel%5D%20Numpy%20to%20pink%20and%20back&In-Reply-To=%3C4850F76274F80D4D8F6D043FAD35F8270747BCAE%40ex2.fmi.ch%3E"
       TITLE="[Pink-image-devel] Numpy to pink and back">otto.fajardo at fmi.ch
       </A><BR>
    <I>Mon Jul  4 18:03:17 CEST 2011</I>
    <P><UL>
        <LI>Previous message: <A HREF="000022.html">[Pink-image-devel] Fwd: Re:  Pink on windows
</A></li>
        <LI>Next message: <A HREF="000024.html">[Pink-image-devel] Numpy to pink and back
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23">[ date ]</a>
              <a href="thread.html#23">[ thread ]</a>
              <a href="subject.html#23">[ subject ]</a>
              <a href="author.html#23">[ author ]</a>
         </LI>
       </UL>
    <HR>  
<!--beginarticle-->
<PRE>Hello, 

I'm new to pink. I got my images as numpy arrays (because I'm extracting
them from videos, and then doing some pre-processing on open cv and
scipy-numpy), and would like an efficient way to convert this numpy
arrays to pink char images. Laszlo already pointed me at a solution that
works, using for loops in python, but it's a bit slow. Does anyone have
a solution? Would it be possible to implement such a feature in pink. If
yes, the way back to numpy would be necessary as well. 

I was trying also to write it using scipy.weave, but for some reason it
fails, any suggestion?
My code looks like this:


#bwtest is the binary image I would like to convert to pink. Size_x and
size_y are the x and y dimensions of bwtest.

I=pink.cpp.char_image([size_x,size_y])

code = '''
        int i;
        int m;

        for (i=0; i &lt;size_x; ++i){
            for (m=0; m&lt;size_y;++m){

                 I(i,m) = bwtest(m,i);
             }
        }
        '''

err = weave.inline(code, arg_names=['size_x','size_y','bwtest','I'],
                   type_converters=weave.converters.blitz,
                   compiler = 'gcc')

Many thanks!


</PRE>

<!--endarticle-->
    <HR>
    <P><UL>
        <!--threads-->
	<LI>Previous message: <A HREF="000022.html">[Pink-image-devel] Fwd: Re:  Pink on windows
</A></li>
	<LI>Next message: <A HREF="000024.html">[Pink-image-devel] Numpy to pink and back
</A></li>
         <LI> <B>Messages sorted by:</B> 
              <a href="date.html#23">[ date ]</a>
              <a href="thread.html#23">[ thread ]</a>
              <a href="subject.html#23">[ subject ]</a>
              <a href="author.html#23">[ author ]</a>
         </LI>
       </UL>

<hr>
<a href="https://lists.berlios.de/mailman/listinfo/pink-image-devel">More information about the Pink-image-devel
mailing list</a><br>
</body></html>
